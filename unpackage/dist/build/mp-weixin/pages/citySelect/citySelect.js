(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/citySelect/citySelect","common/main"],{"0b35":function(t,e,o){"use strict";o.r(e);var r=o("2316"),n=o.n(r);for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},"0f84":function(t,e,o){"use strict";var r=o("b58a"),n=o.n(r);n.a},2316:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o("095e"),n={data:function(){return{globalData:{ws:{}}}},onLaunch:function(){var t=this;r.init(),r.on("onOpen",(function(){t.globalData.ws=r.ws}))},onLoad:function(){console.log("App onLoad")},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},onUnload:function(){console.log("App Unload")},methods:{updateWs:function(){var t=this;console.log("updateWs"),r.init(),r.on("onOpen",(function(){t.globalData.ws=r.ws}))}}};e.default=n},"2afb":function(t,e,o){"use strict";o.r(e);var r=o("ffa8"),n=o.n(r);for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},"3b12":function(t,e,o){"use strict";var r=o("5c8d"),n=o.n(r);n.a},4317:function(t,e,o){"use strict";(function(t){o("6090");var e=i(o("9fbb")),r=i(o("66fd")),n=i(o("cc95")),a=i(o("7143"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}wx.__webpack_require_UNI_MP_PLUGIN__=o,r.default.use(n.default),r.default.prototype.$store=a.default,r.default.config.productionTip=!1,e.default.mpType="app";var c=new r.default(l({store:a.default},e.default));t(c).$mount()}).call(this,o("543d")["createApp"])},"5b78":function(t,e,o){"use strict";(function(t){o("6090");r(o("66fd"));var e=r(o("f530"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=o,t(e.default)}).call(this,o("543d")["createPage"])},"5c8d":function(t,e,o){},7382:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return r}));var r={uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,"74c9"))}},n=function(){var t=this,e=t.$createElement,r=(t._self._c,o("d8ae"));t._isMounted||(t.e0=function(e){t.showRoom=!1},t.e1=function(e){t.showPeoPle=!1}),t.$mp.data=Object.assign({},{$root:{m0:r}})},a=[]},"9fbb":function(t,e,o){"use strict";o.r(e);var r=o("0b35");for(var n in r)"default"!==n&&function(t){o.d(e,t,(function(){return r[t]}))}(n);o("0f84");var a,i,u,l,s=o("f0c5"),c=Object(s["a"])(r["default"],a,i,!1,null,null,null,!1,u,l);e["default"]=c.exports},b58a:function(t,e,o){},f530:function(t,e,o){"use strict";o.r(e);var r=o("7382"),n=o("2afb");for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("3b12");var i,u=o("f0c5"),l=Object(u["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);e["default"]=l.exports},ffa8:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(o("a34a")),n=o("4a68");function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e,o,r,n,a,i){try{var u=t[a](i),l=u.value}catch(s){return void o(s)}u.done?e(l):Promise.resolve(l).then(r,n)}function u(t){return function(){var e=this,o=arguments;return new Promise((function(r,n){var a=t.apply(e,o);function u(t){i(a,r,n,u,l,"next",t)}function l(t){i(a,r,n,u,l,"throw",t)}u(void 0)}))}}var l={data:function(){return{cateId:"",bgImg:"",cityList:[],city:"",addrList:[],it:[],showRoom:!1,roomList:[],roomTitle:"",pageNum:1,totalPageNum:"",pageSize:20,lookHouse:!1,mySelect:"",totalCount:0,showPeoPle:!1,xiaoquPeople:"",peopleList:[],change:""}},onLoad:function(t){this.cateId=t.cateId,this.change=t.change,console.log(this.change),this.lookHouse=!!t.lookHouse,console.log(this.cateId),console.log(this.lookHouse),this.getCityList()},methods:{getCityList:function(){var e=this;return u(r.default.mark((function o(){var a,i;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return console.log(e.cateId),o.next=3,(0,n.list)({parentId:e.cateId});case 3:if(a=o.sent,console.log("2.所有街道列表"),console.log(a),0===a.code){o.next=9;break}return t.showToast({title:"请求街道失败",icon:"none",duration:2e3}),o.abrupt("return");case 9:if(e.cityList=a.page.list,0!==e.cityList.length){o.next=13;break}return t.showToast({title:"该区域下暂未开放街道，请选择别的区域吧~",icon:"none",duration:2e3}),o.abrupt("return");case 13:i=Math.floor(Math.random()*e.cityList.length),e.city=e.cityList[i],e.getStreetList();case 16:case"end":return o.stop()}}),o)})))()},getStreetList:function(){var e=this;return u(r.default.mark((function o(){var a;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,(0,n.list)({parentId:e.city.cateId});case 2:if(a=o.sent,console.log("3.随机街道下所有小区列表"),console.log(a),0===a.code){o.next=8;break}return t.showToast({title:"获取小区失败",icon:"none",duration:2e3}),o.abrupt("return");case 8:if(e.addrList=a.page.list,0!==e.addrList.length){o.next=12;break}return t.showToast({title:"该街道下暂未开放小区，请选择别的街道吧~",icon:"none",duration:2e3}),o.abrupt("return");case 12:e.generate();case 13:case"end":return o.stop()}}),o)})))()},generate:function(){this.it=[];for(var t=0;t<this.addrList.length;t++){var e={};e.addr=this.addrList[t];var o=Math.floor(2*Math.random())+1;e.bigBox=1===o;var r=Math.floor(4*Math.random())+1;if(1===r||2===r){var n=Math.floor(3*Math.random())+1,a=null,i=null;1===n?(a=208,i=208,e.width=a+"rpx",e.height=i+"rpx",e.fsize="40rpx"):2===n?(a=160,i=160,e.width=a+"rpx",e.height=i+"rpx",e.fsize="30rpx"):(a=140,i=140,e.width=a+"rpx",e.height=i+"rpx",e.fsize="26rpx"),Math.floor(Math.random()*(278-a)),Math.floor(Math.random()*(208-i));var u=Math.floor(4*Math.random())+1;1===u?(e.top="-48rpx",e.left=Math.floor(Math.random()*a)+"rpx"):2===u?(e.top=i+"rpx",e.left=Math.floor(Math.random()*a)+"rpx"):3===u?(e.left="-48rpx",e.top=Math.floor(Math.random()*i)+"rpx"):(e.left=a+"rpx",e.top=Math.floor(Math.random()*i)+"rpx");var l=Math.floor(2*Math.random())+1;e.bdr=1===l?"50%":"20rpx",this.it.push(e)}else if(3===r){var s=Math.floor(3*Math.random())+1,c=null,f=null,d=null,h=null;1===s?(c=278,f=200,e.width=c+"rpx",e.height=f+"rpx",e.fsize="44rpx"):2===s?(c=250,f=152,e.width=c+"rpx",e.height=f+"rpx",e.fsize="34rpx"):(c=200,f=132,e.width=c+"rpx",e.height=f+"rpx",e.fsize="30rpx"),d=Math.floor(Math.random()*(278-c)),h=Math.floor(Math.random()*(208-f)),e.mleft=d+"rpx",e.mtop=h+"rpx";var p=Math.floor(4*Math.random())+1;1===p?(e.top="-48rpx",e.left=Math.floor(Math.random()*c)+"rpx"):2===p?(e.top=f+"rpx",e.left=Math.floor(Math.random()*c)+"rpx"):3===p?(e.left="-48rpx",e.top=Math.floor(Math.random()*f)+"rpx"):(e.left=c+"rpx",e.top=Math.floor(Math.random()*f)+"rpx"),e.bdr="20rpx",this.it.push(e)}else{var g=Math.floor(3*Math.random())+1,m=null,x=null,v=null,b=null;1===g?(m=208,x=208,e.width=m+"rpx",e.height=x+"rpx",e.fsize="40rpx"):2===g?(m=160,x=160,e.width=m+"rpx",e.height=x+"rpx",e.fsize="30rpx"):(m=140,x=140,e.width=m+"rpx",e.height=x+"rpx",e.fsize="26rpx"),v=Math.floor(Math.random()*(278-m)),b=Math.floor(Math.random()*(208-x)),e.mleft=v+"rpx",e.mtop=b+"rpx";var M=Math.floor(4*Math.random())+1;1===M?(e.top="-48rpx",e.left=Math.floor(Math.random()*m)+"rpx"):2===M?(e.top=x+"rpx",e.left=Math.floor(Math.random()*m)+"rpx"):3===M?(e.left="-48rpx",e.top=Math.floor(Math.random()*x)+"rpx"):(e.left=m+"rpx",e.top=Math.floor(Math.random()*x)+"rpx"),e.transform="rotate(45deg)",e.bdr="20rpx",this.it.push(e)}}},changeSelectState:function(t){this.lookHouse?(this.xiaoquPeople=t,this.getPeople(t)):this.getRoom(t)},getRoom:function(e){var o=this;return u(r.default.mark((function a(){var i;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o.showRoom=!0,o.roomTitle=e.addr.cateName,r.next=4,(0,n.list)({page:o.pageNum,limit:o.pageSize,parentId:e.addr.cateId,isLock:0});case 4:if(i=r.sent,console.log("4.点击小区显示所有没被选择的房间"),console.log(i),0===i.code){r.next=10;break}return t.showToast({title:"获取房间失败",icon:"none",duration:2e3}),r.abrupt("return");case 10:if(o.roomList=i.page.list,o.totalPageNum=i.page.totalPage,o.totalCount=i.page.totalCount,0!==o.roomList.length){r.next=16;break}return t.showToast({title:"该小区下暂未开放房间，请选择别的房间吧~",icon:"none",duration:2e3}),r.abrupt("return");case 16:case"end":return r.stop()}}),a)})))()},changeRoomState:function(t){this.mySelect=t},toRoomSet:function(){this.showRoom=!1,t.navigateTo({url:"/pages/accessPossword/accessPossword?type=1&id="+this.mySelect.cateId+"&change="+this.change})},reloadArea:function(){this.getCityList()},reqRoomList:function(e){if(1===e){if(this.pageNum=1)return void t.showToast({title:"已经在第一页了~",icon:"none",duration:2e3});this.pageNum}else if(2===e){if(this.pageNum=this.totalPageNum)return void t.showToast({title:"已经在最后一页了~",icon:"none",duration:2e3});this.pageNum}},getPeople:function(t){this.showPeoPle=!0,this.roomTitle=t.addr.cateName,this.getPeopleAgain()},getPeopleAgain:function(){var t=this;return u(r.default.mark((function e(){var o;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,n.list)({page:1,limit:8,parentId:t.xiaoquPeople.addr.cateId,isLock:1,isRandom:1});case 2:o=e.sent,console.log("4.随机用户"),console.log(o),t.peopleList=o.page.list;case 6:case"end":return e.stop()}}),e)})))()},toOtherUser:function(e){console.log(e),e.uid===this.uid&&t.switchTab({url:"../user/user"}),t.navigateTo({url:"../../pages_userActivity/otherUser/otherUser?ocateId="+e.cateId+"&ouid="+e.uid})}}};e.default=l}).call(this,o("543d")["default"])}},[["5b78","common/runtime","common/vendor"]]]);