<view class="pages"><view class="stick _div"><image class="other-title _img" src="{{oava}}" alt data-event-opts="{{[['tap',[['toOtherUser']]]]}}" bindtap="__e"></image><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="other-info _div" bindtap="__e"><view class="info-name _div"><view class="box _div">{{''+(realRemark?realRemark:ousername)+''}}</view><block wx:if="{{realRemark}}"><image src="{{$root.m0}}" mode class="_img"></image></block><block wx:else><image src="{{$root.m1}}" mode class="_img"></image></block></view><view class="info-des _div">{{ointro?ointro:' '}}</view></view><view class="other-relation _div"><image src="{{$root.m2}}" alt data-event-opts="{{[['tap',[['shieldUser',['$event']]]]]}}" bindtap="__e" class="_img"></image></view><view class="other-relation _div"><u-icon vue-id="481ef93a-1" size="30" name="trash" color="#d61515" data-event-opts="{{[['^click',[['e1']]]]}}" bind:click="__e" bind:__l="__l"></u-icon></view></view><view data-event-opts="{{[['touchstart',[['hideDrawer',['$event']]]],['tap',[['e2',['$event']]]]]}}" class="content" style="{{'height:'+(contentHeight+'px')+';'}}" bindtouchstart="__e" bindtap="__e"><scroll-view class="{{['msg-list',popupLayerClass]}}" style="{{'top:'+(-inputBotton-inputLines+'px')+';'}}" scroll-y="{{true}}" scroll-with-animation="{{scrollAnimation}}" scroll-top="{{scrollTop}}" scroll-into-view="{{scrollToView}}" upper-threshold="50" data-event-opts="{{[['scrolltoupper',[['loadHistory',['$event']]]]]}}" bindscrolltoupper="__e"><block wx:if="{{isHistoryLoading}}"><view class="loading"><view class="spinner"><view class="rect1"></view><view class="rect2"></view><view class="rect3"></view><view class="rect4"></view><view class="rect5"></view></view></view></block><block wx:for="{{chatWithList}}" wx:for-item="row" wx:for-index="index" wx:key="index"><view class="row" id="{{'msg'+row.id}}"><block wx:if="{{row.type!=='err_msg'}}"><block><block wx:if="{{row.fromUid==uid}}"><view data-event-opts="{{[['longpress',[['recordOkBtn',['$0'],[[['chatWithList','',index]]]]]]]}}" class="my" bindlongpress="__e"><view class="left"><label class="timer _span">{{row.createTime}}</label><block wx:if="{{row.type==='chat'}}"><view class="bubble" style="position:relative;" id="{{'bubble'+row.id}}" data-event-opts="{{[['longpress',[['setControls',['$0','$event'],[[['chatWithList','',index]]]]]]]}}" bindlongpress="__e"><text>{{row.text}}</text></view></block><block wx:if="{{row.type==='chat_image'}}"><view class="bubble img" id="{{'bubble'+row.id}}" data-event-opts="{{[['tap',[['showPic',[[row.text]]]]],['longpress',[['setControls',['$0','$event'],[[['chatWithList','',index]]]]]]]}}" bindtap="__e" bindlongpress="__e"><image style="margin:0 0 0 12rpx;" src="{{row.text}}" mode="aspectFit"></image></view></block><block wx:if="{{row.type==='chat_video'}}"><view class="bubble veo" style="position:relative;" id="{{'bubble'+row.id}}"><video src="{{row.text}}" controls="{{true}}" show-center-play-btn="{{true}}" data-event-opts="{{[['longpress',[['showDownloadVideo',['$0'],[[['chatWithList','',index]]]]]],['fullscreenchange',[['onFullscreenChange',['$event']]]]]}}" bindlongpress="__e" bindfullscreenchange="__e"></video></view></block></view><view class="right"><image src="{{ava}}"></image></view></view></block><block wx:else><view data-event-opts="{{[['longpress',[['recordOkBtn',['$0'],[[['chatWithList','',index]]]]]]]}}" class="other" bindlongpress="__e"><view class="left"><image src="{{oava}}"></image></view><view class="right"><label class="timer _span">{{row.createTime}}</label><block wx:if="{{row.type==='chat'}}"><view class="bubble" style="position:relative;" id="{{'bubble'+row.id}}" data-event-opts="{{[['longpress',[['setControls',['$0','$event'],[[['chatWithList','',index]]]]]]]}}" bindlongpress="__e"><text>{{row.text}}</text></view></block><block wx:if="{{row.type==='chat_image'}}"><view class="bubble img" id="{{'bubble'+row.id}}" data-event-opts="{{[['tap',[['showPic',[[row.text]]]]],['longpress',[['setControls',['$0','$event'],[[['chatWithList','',index]]]]]]]}}" bindtap="__e" bindlongpress="__e"><image src="{{row.text}}" mode="aspectFit"></image></view></block><block wx:if="{{row.type==='chat_video'}}"><view class="bubble veo" id="{{'bubble'+row.id}}"><video src="{{row.text}}" controls="{{true}}" show-center-play-btn="{{true}}" data-event-opts="{{[['longpress',[['showDownloadVideo',['$0'],[[['chatWithList','',index]]]]]],['fullscreenchange',[['onFullscreenChange',['$event']]]]]}}" bindlongpress="__e" bindfullscreenchange="__e"></video></view></block></view></view></block></block></block></view></block></scroll-view></view><view data-event-opts="{{[['touchmove',[['discard',['$event']]]]]}}" class="{{['input-box','cu-bar','tabbar',popupLayerClass]}}" style="{{'bottom:'+(messBotton+'px')+';'}}" catchtouchmove="__e"><view class="textbox"><view class="{{['text-mode',isVoice?'hidden':'']}}"><view class="box"><textarea auto-height="true" adjust-position="{{false}}" maxlength="300" show-confirm-bar="{{false}}" data-event-opts="{{[['focus',[['inputHight',['$event']]]],['blur',[['inputLow',['$event']]]],['linechange',[['inputLine',['$event']]]],['input',[['__set_model',['','textMsg','$event',[]]]]]]}}" value="{{textMsg}}" bindfocus="__e" bindblur="__e" bindlinechange="__e" bindinput="__e"></textarea></view></view></view><view data-event-opts="{{[['tap',[['showMore',['$event']]]]]}}" class="more" bindtap="__e"><view class="icon add"></view></view><view data-event-opts="{{[['tap',[['sendText',['$event']]]]]}}" class="{{['send',isVoice?'hidden':'']}}" bindtap="__e"><view class="btn">发送</view></view></view><view data-event-opts="{{[['touchmove',[['discard',['$event']]]]]}}" class="{{['popup-layer',popupLayerClass]}}" catchtouchmove="__e"><view class="{{['more-layer',(hideMore)?'hidden':'']}}"><view class="list"><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="box" bindtap="__e"><view class="icon tupian2"></view></view><view data-event-opts="{{[['tap',[['chooseVideo',['$event']]]]]}}" class="box" bindtap="__e"><u-icon vue-id="481ef93a-2" name="../../../../static/video.png" color="#333" size="38" bind:__l="__l"></u-icon></view></view></view></view><u-modal vue-id="481ef93a-3" show="{{showRemove}}" title="删除" showCancelButton="{{true}}" confirmColor="#e89406" data-event-opts="{{[['^confirm',[['confirmRemove']]],['^cancel',[['e3']]]]}}" bind:confirm="__e" bind:cancel="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content"><u-radio-group bind:input="__e" vue-id="{{('481ef93a-4')+','+('481ef93a-3')}}" placement="column" activeColor="#e89406" size="20" value="{{cleanType}}" data-event-opts="{{[['^input',[['__set_model',['','cleanType','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><u-radio vue-id="{{('481ef93a-5')+','+('481ef93a-4')}}" name="{{0}}" shape="circle" label="{{cleanAll===true?'删除本手机上所有聊天记录':'删除本手机上这条聊天记录'}}" bind:__l="__l"></u-radio><u-radio vue-id="{{('481ef93a-6')+','+('481ef93a-4')}}" name="{{1}}" shape="circle" label="{{cleanAll===true?'一键删除双方手机上所有聊天记录':'一键删除双方手机上这条聊天记录'}}" bind:__l="__l"></u-radio></u-radio-group></view></u-modal><u-modal vue-id="481ef93a-7" title="修改用户备注" show="{{changeName}}" showCancelButton="{{true}}" confirmColor="#e89406" data-event-opts="{{[['^confirm',[['getUserRemarkEdit']]],['^cancel',[['e4']]]]}}" bind:confirm="__e" bind:cancel="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content"><u--form class="vue-ref" vue-id="{{('481ef93a-8')+','+('481ef93a-7')}}" labelPosition="left" labelWidth="100rpx" labelStyle="{{({color:'#767676'})}}" data-ref="form1" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('481ef93a-9')+','+('481ef93a-8')}}" label="备注" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('481ef93a-10')+','+('481ef93a-9')}}" placeholder="请输入备注" value="{{remark}}" data-event-opts="{{[['^input',[['__set_model',['','remark','$event',[]]]]]]}}" bind:__l="__l"></u-input></u-form-item></u--form></view></u-modal><u-modal vue-id="481ef93a-11" show="{{showshield}}" title="确定拉黑该用户吗" confirmColor="#e89406" showCancelButton="true" width="620rpx" data-event-opts="{{[['^cancel',[['e5']]],['^confirm',[['changeShildState']]]]}}" bind:cancel="__e" bind:confirm="__e" bind:__l="__l"></u-modal><u-action-sheet style="z-index:9999;" vue-id="481ef93a-12" actions="{{[{name:'下载视频'},{name:'删除消息'}]}}" title="{{title}}" show="{{isFullLongPress}}" closeOnClickOverlay="{{true}}" cancelText="取消" data-event-opts="{{[['^close',[['e6']]],['^select',[['selectClick']]]]}}" bind:close="__e" bind:select="__e" bind:__l="__l"></u-action-sheet><block wx:if="{{showPopup}}"><view class="popup _div" style="{{'top:'+(popupTop+'px')+';'+('left:'+(popupLeft+'px')+';')}}"><text data-event-opts="{{[['tap',[['e7',['$event']]]]]}}" bindtap="__e">删除</text><block wx:if="{{popupRow.type==='chat'}}"><text style="margin:0 10rpx;">|</text></block><block wx:if="{{popupRow.type==='chat'}}"><text data-event-opts="{{[['tap',[['copyMessage',['$event']]]]]}}" bindtap="__e">复制</text></block></view></block></view>