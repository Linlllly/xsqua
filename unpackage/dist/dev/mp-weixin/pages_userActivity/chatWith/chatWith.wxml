<view class="pages"><view class="stick _div"><image class="other-title _img" src="{{oava}}" alt data-event-opts="{{[['tap',[['toOtherUser']]]]}}" bindtap="__e"></image><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="other-info _div" bindtap="__e"><view class="info-name _div"><view class="box _div">{{realRemark?realRemark:ousername}}</view><block wx:if="{{realRemark}}"><image src="{{$root.m0}}" mode class="_img"></image></block><block wx:else><image src="{{$root.m1}}" mode class="_img"></image></block></view><view class="info-des _div">{{ointro?ointro:' '}}</view></view><block wx:if="{{orelations!==0}}"><view class="other-relation _div"><block wx:if="{{orelations===1}}"><image src="{{$root.m2}}" alt class="_img"></image></block><block wx:if="{{orelations===2}}"><image src="{{$root.m3}}" alt class="_img"></image></block><block wx:if="{{orelations===3}}"><image src="{{$root.m4}}" alt class="_img"></image></block></view></block><u-icon vue-id="481ef93a-1" size="30" name="trash" color="#d61515" data-event-opts="{{[['^click',[['e1']]]]}}" bind:click="__e" bind:__l="__l"></u-icon></view><view data-event-opts="{{[['touchstart',[['hideDrawer',['$event']]]]]}}" class="content" style="{{'height:'+(contentHeight+'px')+';'}}" bindtouchstart="__e"><scroll-view class="{{['msg-list',popupLayerClass]}}" style="{{'top:'+(-inputBotton-inputLines+'px')+';'}}" scroll-y="{{true}}" scroll-with-animation="{{scrollAnimation}}" scroll-top="{{scrollTop}}" scroll-into-view="{{scrollToView}}" upper-threshold="50" data-event-opts="{{[['scrolltoupper',[['loadHistory',['$event']]]]]}}" bindscrolltoupper="__e"><block wx:if="{{isHistoryLoading}}"><view class="loading"><view class="spinner"><view class="rect1"></view><view class="rect2"></view><view class="rect3"></view><view class="rect4"></view><view class="rect5"></view></view></view></block><block wx:for="{{chatWithList}}" wx:for-item="row" wx:for-index="index" wx:key="index"><view class="row" id="{{'msg'+row.id}}"><block><block wx:if="{{row.fromUid==uid}}"><view class="my"><view class="left"><label class="timer _span">{{row.createTime}}</label><block wx:if="{{row.type==='chat'}}"><view class="bubble"><text user-select="{{true}}" selectable="{{true}}">{{row.text}}</text></view></block><block wx:if="{{row.type==='chat_image'}}"><view data-event-opts="{{[['tap',[['showPic',[[row.text]]]]]]}}" class="bubble img" bindtap="__e"><image src="{{row.text}}" mode="aspectFit"></image></view></block><block wx:if="{{row.type==='chat_video'}}"><view class="bubble veo"><video src="{{row.text}}" controls="{{true}}" show-center-play-btn="{{true}}" data-event-opts="{{[['longpress',[['showDownloadVideo',['$0'],[[['chatWithList','',index,'text']]]]]],['fullscreenchange',[['onFullscreenChange',['$event']]]]]}}" bindlongpress="__e" bindfullscreenchange="__e"></video></view></block></view><view class="right"><image src="{{ava}}"></image></view></view></block><block wx:else><view class="other"><view class="left"><image src="{{oava}}"></image></view><view class="right"><label class="timer _span">{{row.createTime}}</label><block wx:if="{{row.type==='chat'}}"><view class="bubble"><text user-select="{{true}}" selectable="{{true}}">{{row.text}}</text></view></block><block wx:if="{{row.type==='chat_image'}}"><view data-event-opts="{{[['tap',[['showPic',[[row.text]]]]]]}}" class="bubble img" bindtap="__e"><image src="{{row.text}}" mode="aspectFit"></image></view></block><block wx:if="{{row.type==='chat_video'}}"><view class="bubble veo"><video src="{{row.text}}" controls="{{true}}" show-center-play-btn="{{true}}" data-event-opts="{{[['longpress',[['showDownloadVideo',['$0'],[[['chatWithList','',index,'text']]]]]],['fullscreenchange',[['onFullscreenChange',['$event']]]]]}}" bindlongpress="__e" bindfullscreenchange="__e"></video></view></block></view></view></block></block></view></block></scroll-view></view><view data-event-opts="{{[['touchmove',[['discard',['$event']]]]]}}" class="{{['input-box','cu-bar','tabbar',popupLayerClass]}}" style="{{'bottom:'+(messBotton+'px')+';'}}" catchtouchmove="__e"><view class="textbox"><view class="{{['text-mode',isVoice?'hidden':'']}}"><view class="box"><textarea auto-height="true" adjust-position="{{false}}" maxlength="300" show-confirm-bar="{{false}}" data-event-opts="{{[['focus',[['inputHight',['$event']]]],['blur',[['inputLow',['$event']]]],['linechange',[['inputLine',['$event']]]],['input',[['__set_model',['','textMsg','$event',[]]]]]]}}" value="{{textMsg}}" bindfocus="__e" bindblur="__e" bindlinechange="__e" bindinput="__e"></textarea></view></view></view><view data-event-opts="{{[['tap',[['showMore',['$event']]]]]}}" class="more" bindtap="__e"><view class="icon add"></view></view><view data-event-opts="{{[['tap',[['sendText',['$event']]]]]}}" class="{{['send',isVoice?'hidden':'']}}" bindtap="__e"><view class="btn">发送</view></view></view><view data-event-opts="{{[['touchmove',[['discard',['$event']]]]]}}" class="{{['popup-layer',popupLayerClass]}}" catchtouchmove="__e"><view class="{{['more-layer',(hideMore)?'hidden':'']}}"><view class="list"><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="box" bindtap="__e"><view class="icon tupian2"></view></view><view data-event-opts="{{[['tap',[['chooseVideo',['$event']]]]]}}" class="box" bindtap="__e"><u-icon vue-id="481ef93a-2" name="../../../../static/video.png" color="#333" size="38" bind:__l="__l"></u-icon></view></view></view></view><u-modal vue-id="481ef93a-3" show="{{showRemove}}" title="删除" content="将删除双方对话的所有内容" showCancelButton="{{true}}" confirmColor="#e89406" data-event-opts="{{[['^confirm',[['confirmRemove']]],['^cancel',[['e2']]]]}}" bind:confirm="__e" bind:cancel="__e" bind:__l="__l"></u-modal><u-modal vue-id="481ef93a-4" title="修改用户备注" show="{{changeName}}" showCancelButton="{{true}}" confirmColor="#e89406" data-event-opts="{{[['^confirm',[['getUserRemarkEdit']]],['^cancel',[['e3']]]]}}" bind:confirm="__e" bind:cancel="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content"><u--form class="vue-ref" vue-id="{{('481ef93a-5')+','+('481ef93a-4')}}" labelPosition="left" labelWidth="100rpx" labelStyle="{{({color:'#767676'})}}" data-ref="form1" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('481ef93a-6')+','+('481ef93a-5')}}" label="备注" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('481ef93a-7')+','+('481ef93a-6')}}" placeholder="请输入备注" value="{{remark}}" data-event-opts="{{[['^input',[['__set_model',['','remark','$event',[]]]]]]}}" bind:__l="__l"></u-input></u-form-item></u--form></view></u-modal><u-action-sheet style="z-index:9999;" vue-id="481ef93a-8" actions="{{[{name:'下载视频'}]}}" title="{{title}}" show="{{isFullLongPress}}" closeOnClickOverlay="{{true}}" cancelText="取消" data-event-opts="{{[['^close',[['e4']]],['^select',[['selectClick']]]]}}" bind:close="__e" bind:select="__e" bind:__l="__l"></u-action-sheet></view>