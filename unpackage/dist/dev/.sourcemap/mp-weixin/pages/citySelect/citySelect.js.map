{"version":3,"sources":["uni-app:///main.js","webpack:///F:/uniApp/xsqua/App.vue?71d8","webpack:///F:/uniApp/xsqua/pages/citySelect/citySelect.vue?40f0","webpack:///F:/uniApp/xsqua/pages/citySelect/citySelect.vue?9fe4","webpack:///F:/uniApp/xsqua/pages/citySelect/citySelect.vue?7963","webpack:///F:/uniApp/xsqua/pages/citySelect/citySelect.vue?58b0","uni-app:///pages/citySelect/citySelect.vue","webpack:///F:/uniApp/xsqua/pages/citySelect/citySelect.vue?dc98","webpack:///F:/uniApp/xsqua/App.vue?99be","webpack:///F:/uniApp/xsqua/App.vue?88dd","uni-app:///App.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","use","uView","prototype","$store","store","config","productionTip","App","mpType","app","$mount","createPage","Page","renderjs","component","options","__file","components","uIcon","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","m0","_self","_c","l0","showPeoPle","__map","peopleList","i","index","$orig","__get_orig","m1","userInfo","avatar","_isMounted","e0","$event","showRoom","e1","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","ws"],"mappings":"uIAAA,KAE2D,cAG3D,UACA,WACA,W,0uBALAA,GAAGC,kCAAoCC,EAOvCC,UAAIC,IAAIC,WAGRF,UAAIG,UAAUC,OAASC,UACvBL,UAAIM,OAAOC,eAAgB,EAC3BC,UAAIC,OAAS,MACb,IAAMC,EAAM,IAAIV,UAAJ,GACXK,iBACGG,YAEJ,EAAAE,GAAIC,W,8DCnBJ,6GAA2vC,eAAG,G,mEDA9vC,KAGA,YACA,Y,mDAFAd,GAAGC,kCAAoCC,EAGvCa,EAAWC,a,gEELX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,kHAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACV,EAAQ,MAEbC,EAAKP,EAAIQ,WACTR,EAAIS,MAAMT,EAAIU,YAAY,SAASC,EAAGC,GACpC,IAAIC,EAAQb,EAAIc,WAAWH,GAEvBI,EAEF,0EADAJ,EAAEK,SAASC,OAEP,EAAQ,KACR,KACN,MAAO,CACLJ,MAAOA,EACPE,GAAIA,MAGR,KAECf,EAAIkB,aACPlB,EAAImB,GAAK,SAASC,GAChBpB,EAAIqB,UAAW,GAGjBrB,EAAIsB,GAAK,SAASF,GAChBpB,EAAIQ,YAAa,IAIrBR,EAAIuB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLvB,GAAIA,EACJG,GAAIA,MAKRqB,GAAmB,EACnBC,EAAkB,GACtB9B,EAAO+B,eAAgB,G,iCCtEvB,8GAA2qB,eAAG,G,+HCqG9qB,SACA,SACA,SACA,Q,4iCACA,CACA,KADA,WAEA,OAEA,UAEA,SAEA,YAEA,QAEA,YAEA,MAGA,YAEA,YAEA,aAEA,kBAEA,UAEA,gBAEA,YAEA,aAEA,YAEA,aAEA,cACA,gBACA,cAEA,UACA,cAGA,OA7CA,SA6CA,GAEA,qBACA,qBACA,yCAEA,mBACA,mBACA,kBAGA,gBACA,4DADA,IAGA,YAHA,WAGA,kJACA,+BADA,UACA,EADA,OAEA,wBACA,eACA,WAJA,uBAKA,aACA,eACA,YACA,eARA,6BAaA,uBAEA,sBAfA,wBAgBA,aACA,6BACA,YACA,eAnBA,2BAwBA,8CACA,qBACA,kBA1BA,+CA6BA,cAhCA,WAgCA,gJACA,oCADA,UACA,EADA,OAEA,6BACA,eACA,WAJA,uBAKA,aACA,eACA,YACA,eARA,6BAaA,uBAEA,sBAfA,wBAgBA,aACA,6BACA,YACA,eAnBA,2BAwBA,aAxBA,+CA2BA,SA3DA,WA6DA,WAEA,wCACA,SACA,wBAEA,oCAEA,SADA,MAMA,oCAEA,iBAGA,oCACA,OACA,OAIA,OAEA,MACA,MACA,gBACA,iBACA,iBACA,QAEA,MACA,MACA,gBACA,iBACA,iBAGA,kCAEA,kCAGA,oCAEA,OACA,eACA,0CACA,OACA,cACA,0CACA,OACA,gBACA,0CAEA,eACA,yCAEA,oCAEA,MADA,MACA,MAEA,QAGA,qBACA,UAGA,oCACA,OACA,OACA,OACA,OAEA,OAEA,MACA,MACA,gBACA,iBACA,iBACA,QAEA,MACA,MACA,gBACA,iBACA,iBAGA,oCAEA,oCAEA,gBACA,eAGA,oCAEA,OACA,eACA,0CACA,OACA,cACA,0CACA,OACA,gBACA,0CAEA,eACA,yCAEA,cACA,oBACA,CAGA,oCACA,OACA,OACA,OACA,OAEA,QAEA,MACA,MACA,gBACA,iBACA,iBAGA,oCAEA,oCAEA,gBACA,eAGA,oCAEA,OACA,eACA,0CACA,OACA,cACA,0CACA,OACA,gBACA,0CAEA,eACA,yCAGA,4BACA,cAEA,mBAKA,kBArOA,SAqOA,KACA,gBAIA,6BACA,6BAJA,+BACA,2BAQA,QAhPA,SAgPA,yIACA,cACA,4BAFA,UAIA,6EAJA,UAIA,EAJA,OAKA,iCACA,eACA,WAPA,wBAQA,aACA,eACA,YACA,eAXA,8BAeA,uBACA,gCACA,+BAEA,sBAnBA,wBAoBA,aACA,6BACA,YACA,eAvBA,kEA8BA,gBA9QA,SA8QA,GACA,iBAEA,UAjRA,WAiRA,gJACA,cADA,UACA,EADA,OAEA,WAFA,uBAGA,aACA,0BACA,YACA,eANA,0BAUA,8CAVA,8CAaA,UA9RA,WA8RA,oIAMA,kBANA,iCAQA,6DARA,OAQA,EARA,OASA,WACA,YACA,qBAGA,aACA,aACA,YACA,eAjBA,wCAsBA,kDAtBA,OAsBA,EAtBA,OAuBA,YAEA,6BACA,gBACA,YAEA,sBAGA,aACA,aACA,YACA,eAnCA,+CAyCA,WAvUA,WAyUA,oBAGA,YA5UA,SA4UA,GACA,UACA,oBAMA,YALA,aACA,iBACA,YACA,eAIA,gBAEA,uCACA,UACA,mCAMA,YALA,aACA,kBACA,YACA,eAIA,gBACA,oCAMA,UAzWA,SAyWA,GACA,mBACA,+BACA,uBAEA,eA9WA,WA8WA,gJAEA,oFAFA,UAEA,EAFA,OAGA,sBACA,eACA,WALA,uBAMA,aACA,mBACA,YACA,eATA,0BAaA,yBAbA,8CAeA,aA7XA,WA8XA,sBACA,aACA,YACA,YACA,iBAGA,YArYA,SAqYA,GACA,kBAEA,aACA,qBAGA,cACA,0F,2EC9iBA,8GAA+tC,eAAG,G,qDCAluC,6GAAI/B,EAAQ8B,EAAmCrC,EAC3CJ,EADJ,QASIC,EAAY,qBACd,aACAU,EACA8B,GACA,EACA,KACA,KACA,MACA,EACArC,EACAJ,GAGFC,EAAUC,QAAQC,OAAS,UACZ,aAAAF,E,wCCvBf,4GAAoqB,eAAG,G,8GCCvqB,IAAI0C,EAAK,EAAT,G,EAEA,CACA,KADA,WAEA,OACA,YACA,SAKA,sBACA,oBACA,kBAEA,mCACA,4BACA,gCAEA,cACA,4BACA,cACA,aACA,2BACA,oBACA,WAEA,sBAKA,6BAEA,cACA,kBACA,qDAMA,cACA,WACA,+CAIA,uBAEA,oBACA,sBACA,SAEA,eAFA,WAEA,WACA,qCACA,eACA,eAQA,eACA,iBAEA,aACA,iBAXA,aACA,cACA,YACA,mBAYA,SArBA,WAqBA,WACA,mBAEA,UAGA,SAGA,0BACA,2B","file":"pages/citySelect/citySelect.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/citySelect/citySelect.vue'\ncreatePage(Page)","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","import { render, staticRenderFns, recyclableRender, components } from \"./citySelect.vue?vue&type=template&id=061d8634&\"\nvar renderjs\nimport script from \"./citySelect.vue?vue&type=script&lang=js&\"\nexport * from \"./citySelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./citySelect.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/citySelect/citySelect.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./citySelect.vue?vue&type=template&id=061d8634&\"","var components\ntry {\n  components = {\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"../../static/坐标-fill.png\")\n\n  var l0 = _vm.showPeoPle\n    ? _vm.__map(_vm.peopleList, function(i, index) {\n        var $orig = _vm.__get_orig(i)\n\n        var m1 =\n          i.userInfo.avatar ===\n          \"https://www.zairongyifang.com:8080/filePath/resource/default_head.png\"\n            ? require(\"../../static/I.png\")\n            : null\n        return {\n          $orig: $orig,\n          m1: m1\n        }\n      })\n    : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showRoom = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showPeoPle = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./citySelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./citySelect.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"reg\">\r\n\t\t<!-- <bgMusic></bgMusic> -->\r\n\t\t<!-- 背景图 -->\r\n\t\t<img class=\"bg-img\" :src=\"city.coverImage\" alt=\"\" />\r\n\t\t<!-- 返回  -->\r\n\r\n\t\t<!-- 标题  -->\r\n\t\t<!-- <div class=\"reg-title\">{{ city.cateName }}</div>\r\n\t\t -->\r\n\t\t<div class=\"reg-title\">\r\n\t\t\t<u-icon size=\"28\" label=\"换一换\" labelColor=\"#fff\" labelPos=\"bottom\" name=\"reload\" color=\"#fff\" @click=\"reloadArea\"></u-icon>\r\n\t\t</div>\r\n\r\n\t\t<!-- <u-icon size=\"25\" name=\"reload\" color=\"white\" @click=\"backArea\"></u-icon> -->\r\n\t\t<!-- 锚点小区 -->\r\n\t\t<div class=\"reg-content\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"content-item\"\r\n\t\t\t\tv-for=\"(i, index) in it\"\r\n\t\t\t\t:key=\"i.addr.uid\"\r\n\t\t\t\t:style=\"{ marginBottom: i.bigBox ? '34rpx' : '', marginTop: !i.bigBox ? '34rpx' : '' }\"\r\n\t\t\t\t@click=\"changeSelectState(i, index)\"\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"btn\"\r\n\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\twidth: i.width,\r\n\t\t\t\t\t\theight: i.height,\r\n\t\t\t\t\t\tmargin: `${i.mtop} 0 0 ${i.mleft}`,\r\n\t\t\t\t\t\tborderRadius: i.bdr,\r\n\t\t\t\t\t\ttransform: i.transform ? i.transform : '',\r\n\t\t\t\t\t\tfontSize: i.fsize\r\n\t\t\t\t\t}\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\t<span class=\"street-title\" :style=\"{ transform: i.transform ? 'rotate(-45deg)' : '' }\">{{ i.addr.cateName }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclass=\"local\"\r\n\t\t\t\t\t\tsrc=\"../../static/坐标-fill.png\"\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t:style=\"{ top: i.top, left: i.left, transform: i.transform ? 'rotate(-45deg)' : '' }\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- ---- -->\r\n\t\t</div>\r\n\t\t<!-- 注册按钮的房间 -->\r\n\t\t<div v-if=\"showRoom\" class=\"rooms\">\r\n\t\t\t<div class=\"rooms-content\">\r\n\t\t\t\t<u-icon name=\"close\" color=\"#000\" size=\"28\" @click=\"showRoom = false\"></u-icon>\r\n\t\t\t\t<div class=\"rooms-name\">钦点主人房</div>\r\n\t\t\t\t<!-- <u-icon name=\"reload\" color=\"#000\" size=\"28\"></u-icon> -->\r\n\t\t\t\t<div class=\"rooms-street-name\">{{ roomTitle }}</div>\r\n\t\t\t\t<div class=\"content-box\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"(i, index) in roomList\"\r\n\t\t\t\t\t\t:key=\"i.cateId\"\r\n\t\t\t\t\t\tclass=\"rooms-item\"\r\n\t\t\t\t\t\t:class=\"[mySelect.cateId === i.cateId ? 'room-yes' : 'room-no']\"\r\n\t\t\t\t\t\t@click=\"changeRoomState(i)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ i.cateName }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"rooms-prev\" @click=\"reqRoomList(1)\"></div>\r\n\t\t\t\t<div class=\"rooms-comfirm\" @click=\"toRoomSet()\">确认</div>\r\n\t\t\t\t<div class=\"rooms-next\" @click=\"reqRoomList(2)\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- 显示选择的房间 -->\r\n\t\t<div v-if=\"showPeoPle\" class=\"people\">\r\n\t\t\t<div class=\"people-content\">\r\n\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t<div class=\"title-left\">\r\n\t\t\t\t\t\t<span class=\"wenzi\">{{ roomTitle }}</span>\r\n\t\t\t\t\t\t<div class=\"icon-box\" @click=\"reloadPeople\">\r\n\t\t\t\t\t\t\t<u-icon name=\"reload\" label=\"换一换\" labelPos=\"bottom\" color=\"#333\" size=\"22\"></u-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"icon-box\" @click=\"showPeoPle = false\"><u-icon name=\"close\" color=\"#333\" size=\"22\"></u-icon></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"people-item\" v-for=\"(i, index) in peopleList\" :key=\"index\" @click=\"toOtherUser(i)\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tv-if=\"i.userInfo.avatar === 'https://www.zairongyifang.com:8080/filePath/resource/default_head.png'\"\r\n\t\t\t\t\t\tsrc=\"../../static/I.png\"\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<img v-else :src=\"i.userInfo.avatar\" alt=\"\" />\r\n\t\t\t\t\t<div class=\"des\">\r\n\t\t\t\t\t\t<div class=\"des-room\">{{ i.cateName }}</div>\r\n\t\t\t\t\t\t<div class=\"des-say\">{{ i.userInfo.intro ? i.userInfo.intro : ' ' }}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { list } from '@/api/citySelect/citySelect.js';\r\nimport { bind, fchange } from '@/api/accessPossword/accessPossword.js';\r\nimport { myRoom } from '@/api/loginSelect/loginSelect.js';\r\nimport { mapGetters, mapMutations, mapState } from 'vuex';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t//这个页面属于哪个区域\r\n\t\t\tcateId: '',\r\n\t\t\t//背景图片\r\n\t\t\tbgImg: '',\r\n\t\t\t//所有街道的街道列表\r\n\t\t\tcityList: [],\r\n\t\t\t//随机选择到的街道信息\r\n\t\t\tcity: '',\r\n\t\t\t//街道下面的锚点\r\n\t\t\taddrList: [],\r\n\t\t\t//it是结果 装style  每个街name  或许需要接跳转\r\n\t\t\tit: [],\r\n\t\t\t//==========================================================\r\n\t\t\t//显示房间列表\r\n\t\t\tshowRoom: false,\r\n\t\t\t//房间列表(房间有没有被占用) true表示被占用了\r\n\t\t\troomList: [],\r\n\t\t\t//小区名字\r\n\t\t\troomTitle: '',\r\n\t\t\t//修改房间的i\r\n\t\t\tselectRoomItem: '',\r\n\t\t\t//请求页面\r\n\t\t\tpageNum: 1,\r\n\t\t\t//总页面\r\n\t\t\ttotalPageNum: '',\r\n\t\t\t//请求数据条数\r\n\t\t\tpageSize: 20,\r\n\t\t\t//true代表从首页进来的 看别人的房间 false代表从注册页/设置页进来的\r\n\t\t\tlookHouse: false,\r\n\t\t\t//我现在正在选择的\r\n\t\t\tmySelect: '',\r\n\t\t\t//数据总数\r\n\t\t\ttotalCount: 0,\r\n\t\t\t//=============================================\r\n\t\t\tshowPeoPle: false,\r\n\t\t\txiaoquPeople: '',\r\n\t\t\tpeopleList: [],\r\n\t\t\t//仅传递到下一级用\r\n\t\t\tchange: '',\r\n\t\t\tpassword: ''\r\n\t\t};\r\n\t},\r\n\tonLoad(option) {\r\n\t\t//获取传参\r\n\t\tthis.cateId = option.cateId;\r\n\t\tthis.change = option.change;\r\n\t\tthis.lookHouse = option.lookHouse !== 'undefined' ? true : false;\r\n\t\t//随机获取页面详情\r\n\t\tthis.getCityList();\r\n\t\tif (option.change === 'true') {\r\n\t\t\tthis.getMyRoom();\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapMutations(['updateUid', 'updateAva', 'updateHouse']),\r\n\t\t//随机获取街道\r\n\t\tasync getCityList() {\r\n\t\t\tlet res = await list({ parentId: this.cateId });\r\n\t\t\tconsole.log('2.所有街道列表');\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.code !== 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请求街道失败',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//所有街道的街道名称\r\n\t\t\tthis.cityList = res.page.list;\r\n\t\t\t//没有街道\r\n\t\t\tif (this.cityList.length === 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '该区域下暂未开放街道，请选择别的区域吧~',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//随机一个街道\r\n\t\t\tlet streetNum = Math.floor(Math.random() * this.cityList.length);\r\n\t\t\tthis.city = this.cityList[streetNum];\r\n\t\t\tthis.getStreetList();\r\n\t\t},\r\n\t\t//获取街道下面的锚点小区\r\n\t\tasync getStreetList() {\r\n\t\t\tlet res = await list({ parentId: this.city.cateId });\r\n\t\t\tconsole.log('3.随机街道下所有小区列表');\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.code !== 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取小区失败',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//所有小区名称\r\n\t\t\tthis.addrList = res.page.list;\r\n\t\t\t//没有小区\r\n\t\t\tif (this.addrList.length === 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '该街道下暂未开放小区，请选择别的街道吧~',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//一切ok再生成页面\r\n\t\t\tthis.generate();\r\n\t\t},\r\n\t\t//初始化锚点等生成页面\r\n\t\tgenerate() {\r\n\t\t\t//保证初始化渲染节点\r\n\t\t\tthis.it = [];\r\n\t\t\t//获取节点\r\n\t\t\tfor (let i = 0; i < this.addrList.length; i++) {\r\n\t\t\t\tlet style = {};\r\n\t\t\t\tstyle.addr = this.addrList[i];\r\n\t\t\t\t//区域的padding是上边距还是下边距\r\n\t\t\t\tlet bigBox = Math.floor(Math.random() * 2) + 1;\r\n\t\t\t\tif (bigBox === 1) {\r\n\t\t\t\t\tstyle.bigBox = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstyle.bigBox = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet sample = Math.floor(Math.random() * 4) + 1;\r\n\t\t\t\t//随机样子 正 圆 长 菱\r\n\t\t\t\tif (sample === 1 || sample === 2) {\r\n\t\t\t\t\t//正方形\r\n\t\t\t\t\t//随机大小\r\n\t\t\t\t\tlet size = Math.floor(Math.random() * 2) + 1;\r\n\t\t\t\t\tlet wd = null;\r\n\t\t\t\t\tlet hd = null;\r\n\t\t\t\t\tlet mgl = null;\r\n\t\t\t\t\tlet mgt = null;\r\n\r\n\t\t\t\t\tif (size === 1) {\r\n\t\t\t\t\t\t//大\r\n\t\t\t\t\t\twd = 208;\r\n\t\t\t\t\t\thd = 208;\r\n\t\t\t\t\t\tstyle.width = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.height = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.fsize = '44rpx';\r\n\t\t\t\t\t} else if (size === 2) {\r\n\t\t\t\t\t\t//中\r\n\t\t\t\t\t\twd = 190;\r\n\t\t\t\t\t\thd = 190;\r\n\t\t\t\t\t\tstyle.width = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.height = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.fsize = '40rpx';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// //随机左边\r\n\t\t\t\t\tmgl = Math.floor(Math.random() * (278 - wd));\r\n\t\t\t\t\t// //随机顶部\r\n\t\t\t\t\tmgt = Math.floor(Math.random() * (208 - hd));\r\n\r\n\t\t\t\t\t// 随机四周\r\n\t\t\t\t\tlet around = Math.floor(Math.random() * 4) + 1;\r\n\r\n\t\t\t\t\tif (around === 1) {\r\n\t\t\t\t\t\tstyle.top = '-48rpx';\r\n\t\t\t\t\t\tstyle.left = Math.floor(Math.random() * wd) + 'rpx';\r\n\t\t\t\t\t} else if (around === 2) {\r\n\t\t\t\t\t\tstyle.top = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.left = Math.floor(Math.random() * wd) + 'rpx';\r\n\t\t\t\t\t} else if (around === 3) {\r\n\t\t\t\t\t\tstyle.left = '-48rpx';\r\n\t\t\t\t\t\tstyle.top = Math.floor(Math.random() * hd) + 'rpx';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstyle.left = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.top = Math.floor(Math.random() * hd) + 'rpx';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet cOrS = Math.floor(Math.random() * 2) + 1;\r\n\t\t\t\t\tif (cOrS === 1) {\r\n\t\t\t\t\t\tstyle.bdr = '50%';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstyle.bdr = '20rpx';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.it.push(style);\r\n\t\t\t\t} else if (sample === 3) {\r\n\t\t\t\t\t//长方形\r\n\t\t\t\t\t//随机大小\r\n\t\t\t\t\tlet size = Math.floor(Math.random() * 2) + 1;\r\n\t\t\t\t\tlet wd = null;\r\n\t\t\t\t\tlet hd = null;\r\n\t\t\t\t\tlet mgl = null;\r\n\t\t\t\t\tlet mgt = null;\r\n\r\n\t\t\t\t\tif (size === 1) {\r\n\t\t\t\t\t\t//大\r\n\t\t\t\t\t\twd = 278;\r\n\t\t\t\t\t\thd = 200;\r\n\t\t\t\t\t\tstyle.width = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.height = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.fsize = '48rpx';\r\n\t\t\t\t\t} else if (size === 2) {\r\n\t\t\t\t\t\t//中\r\n\t\t\t\t\t\twd = 260;\r\n\t\t\t\t\t\thd = 168;\r\n\t\t\t\t\t\tstyle.width = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.height = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.fsize = '44rpx';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// //随机左边\r\n\t\t\t\t\tmgl = Math.floor(Math.random() * (278 - wd));\r\n\t\t\t\t\t// //随机顶部\r\n\t\t\t\t\tmgt = Math.floor(Math.random() * (208 - hd));\r\n\r\n\t\t\t\t\tstyle.mleft = mgl + 'rpx';\r\n\t\t\t\t\tstyle.mtop = mgt + 'rpx';\r\n\r\n\t\t\t\t\t// 随机四周\r\n\t\t\t\t\tlet around = Math.floor(Math.random() * 4) + 1;\r\n\r\n\t\t\t\t\tif (around === 1) {\r\n\t\t\t\t\t\tstyle.top = '-48rpx';\r\n\t\t\t\t\t\tstyle.left = Math.floor(Math.random() * wd) + 'rpx';\r\n\t\t\t\t\t} else if (around === 2) {\r\n\t\t\t\t\t\tstyle.top = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.left = Math.floor(Math.random() * wd) + 'rpx';\r\n\t\t\t\t\t} else if (around === 3) {\r\n\t\t\t\t\t\tstyle.left = '-48rpx';\r\n\t\t\t\t\t\tstyle.top = Math.floor(Math.random() * hd) + 'rpx';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstyle.left = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.top = Math.floor(Math.random() * hd) + 'rpx';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstyle.bdr = '20rpx';\r\n\t\t\t\t\tthis.it.push(style);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//菱形\r\n\t\t\t\t\t//随机大小\r\n\t\t\t\t\tlet size = Math.floor(Math.random() * 1) + 1;\r\n\t\t\t\t\tlet wd = null;\r\n\t\t\t\t\tlet hd = null;\r\n\t\t\t\t\tlet mgl = null;\r\n\t\t\t\t\tlet mgt = null;\r\n\r\n\t\t\t\t\tif (size === 1) {\r\n\t\t\t\t\t\t//大\r\n\t\t\t\t\t\twd = 202;\r\n\t\t\t\t\t\thd = 202;\r\n\t\t\t\t\t\tstyle.width = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.height = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.fsize = '44rpx';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// //随机左边\r\n\t\t\t\t\tmgl = Math.floor(Math.random() * (278 - wd));\r\n\t\t\t\t\t// //随机顶部\r\n\t\t\t\t\tmgt = Math.floor(Math.random() * (208 - hd));\r\n\r\n\t\t\t\t\tstyle.mleft = mgl + 'rpx';\r\n\t\t\t\t\tstyle.mtop = mgt + 'rpx';\r\n\r\n\t\t\t\t\t// 随机四周\r\n\t\t\t\t\tlet around = Math.floor(Math.random() * 4) + 1;\r\n\r\n\t\t\t\t\tif (around === 1) {\r\n\t\t\t\t\t\tstyle.top = '-48rpx';\r\n\t\t\t\t\t\tstyle.left = Math.floor(Math.random() * wd) + 'rpx';\r\n\t\t\t\t\t} else if (around === 2) {\r\n\t\t\t\t\t\tstyle.top = hd + 'rpx';\r\n\t\t\t\t\t\tstyle.left = Math.floor(Math.random() * wd) + 'rpx';\r\n\t\t\t\t\t} else if (around === 3) {\r\n\t\t\t\t\t\tstyle.left = '-48rpx';\r\n\t\t\t\t\t\tstyle.top = Math.floor(Math.random() * hd) + 'rpx';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstyle.left = wd + 'rpx';\r\n\t\t\t\t\t\tstyle.top = Math.floor(Math.random() * hd) + 'rpx';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstyle.transform = 'rotate(45deg)';\r\n\t\t\t\t\tstyle.bdr = '20rpx';\r\n\t\t\t\t\t//旋转\r\n\t\t\t\t\tthis.it.push(style);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//lookHouse存在是查看 lookHouse不存在是注册\r\n\t\tchangeSelectState(i, index) {\r\n\t\t\tif (!this.lookHouse) {\r\n\t\t\t\tthis.selectRoomItem = this.it[index];\r\n\t\t\t\tthis.getRoom(this.it[index]);\r\n\t\t\t} else {\r\n\t\t\t\tthis.xiaoquPeople = this.it[index];\r\n\t\t\t\tthis.getPeople(this.it[index]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//===============如果是注册====================\r\n\t\t//选择小区 查看具体房间\r\n\t\tasync getRoom(i) {\r\n\t\t\tthis.showRoom = true;\r\n\t\t\tthis.roomTitle = i.addr.cateName;\r\n\t\t\t//开始请求\r\n\t\t\tlet res = await list({ page: this.pageNum, limit: this.pageSize, parentId: i.addr.cateId, isLock: 0 });\r\n\t\t\tconsole.log('4.点击小区显示所有没被选择的房间');\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.code !== 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取房间失败',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.roomList = res.page.list;\r\n\t\t\tthis.totalPageNum = res.page.totalPage;\r\n\t\t\tthis.totalCount = res.page.totalCount;\r\n\t\t\t//如果没有房间\r\n\t\t\tif (this.roomList.length === 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '该小区下暂未开放房间，请选择别的房间吧~',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//暂选房间改变状态\r\n\t\tchangeRoomState(i) {\r\n\t\t\tthis.mySelect = i;\r\n\t\t},\r\n\t\tasync getMyRoom() {\r\n\t\t\tlet res = await myRoom();\r\n\t\t\tif (res.code !== 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取用户密码失败，请稍后再更换房间',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.password = res.room.password ? res.room.password : '';\r\n\t\t},\r\n\t\t//点击按钮确定选定房间\r\n\t\tasync toRoomSet() {\r\n\t\t\t//是空房间跳转选择密码\r\n\t\t\t// this.showRoom = false;\r\n\t\t\t// uni.navigateTo({\r\n\t\t\t// \turl: '/pages/accessPossword/accessPossword?type=' + 1 + '&id=' + this.mySelect.cateId + '&change=' + this.change\r\n\t\t\t// });\r\n\t\t\tif (this.change === 'true') {\r\n\t\t\t\t//换绑\r\n\t\t\t\tlet res = await fchange({ cateId: this.mySelect.cateId, password: this.password });\r\n\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: '../user/user'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '换绑失败',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//注册成功\r\n\t\t\t\tlet res = await bind({ cateId: this.mySelect.cateId, password: '' });\r\n\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t//有房了\r\n\t\t\t\t\tuni.setStorageSync('house', true);\r\n\t\t\t\t\tthis.updateHouse();\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t//注册完成 重定向到个人中心\r\n\t\t\t\t\t\turl: '../user/user'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '注册失败',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 刷新选择页面\r\n\t\treloadArea() {\r\n\t\t\t//刷新街区\r\n\t\t\tthis.getCityList();\r\n\t\t},\r\n\t\t//上一页和下一页\r\n\t\treqRoomList(i) {\r\n\t\t\tif (i === 1) {\r\n\t\t\t\tif (this.pageNum === 1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '已经在第一页了~',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.pageNum -= 1;\r\n\t\t\t\t//请求接口\r\n\t\t\t\tthis.getRoom(this.selectRoomItem);\r\n\t\t\t} else if (i === 2) {\r\n\t\t\t\tif (this.pageNum >= this.totalPageNum) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '已经在最后一页了~',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.pageNum += 1;\r\n\t\t\t\tthis.getRoom(this.selectRoomItem);\r\n\t\t\t}\r\n\t\t\t//请求接口\r\n\t\t},\r\n\t\t//===============如果是查看====================\r\n\t\t//选择小区 查看随机人\r\n\t\tgetPeople(i) {\r\n\t\t\tthis.showPeoPle = true;\r\n\t\t\tthis.roomTitle = i.addr.cateName;\r\n\t\t\tthis.getPeopleAgain();\r\n\t\t},\r\n\t\tasync getPeopleAgain() {\r\n\t\t\t//获取后台用户\r\n\t\t\tlet res = await list({ page: 1, limit: 8, parentId: this.xiaoquPeople.addr.cateId, isLock: 1, isRandom: 1 });\r\n\t\t\tconsole.log('4.随机用户');\r\n\t\t\tconsole.log(res);\r\n\t\t\tif (res.code !== 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取随机用户列表失败',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.peopleList = res.page.list;\r\n\t\t},\r\n\t\treloadPeople() {\r\n\t\t\tthis.getPeopleAgain();\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '已刷新',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 1500\r\n\t\t\t});\r\n\t\t},\r\n\t\ttoOtherUser(i) {\r\n\t\t\tif (i.uid === this.uid) {\r\n\t\t\t\t//自己\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '../user/user'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '../../pages_userActivity/otherUser/otherUser?ocateId=' + i.cateId + '&ouid=' + i.uid\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n// /deep/.u-icon--right {\r\n// \tposition: absolute;\r\n// }\r\n.reg {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\tmin-height: 1480rpx;\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n// /deep/.uicon-reload {\r\n// \tposition: absolute;\r\n// \ttop: 60rpx !important;\r\n// \tleft: 30rpx;\r\n// \tbackground-color: rgba(0, 0, 0, 0.5);\r\n// \tborder-radius: 50%;\r\n// \tpadding: 15rpx;\r\n// }\r\n.reg-title {\r\n\twidth: 170rpx;\r\n\theight: 150rpx;\r\n\tbox-sizing: border-box;\r\n\tpadding: 36rpx 36rpx 0;\r\n\r\n\t/deep/.uicon-reload {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tborder-radius: 50%;\r\n\t}\r\n}\r\n\r\n.reg-content {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: space-around;\r\n\t.content-item {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 360rpx;\r\n\t\t// height: 40vh;\r\n\t\tpadding: 46rpx;\r\n\t}\r\n}\r\n.reg-content .content-item:nth-child(2n) {\r\n\tpadding-left: 36rpx;\r\n}\r\n.reg-content .content-item:nth-child(2n + 1) {\r\n\tpadding-right: 36rpx;\r\n}\r\n.reg-content .content-item:nth-child(1) {\r\n\theight: 556rpx;\r\n}\r\n.reg-content .content-item:nth-child(2) {\r\n\theight: 556rpx;\r\n}\r\n.reg-content .content-item:nth-child(3) {\r\n\theight: 706rpx;\r\n}\r\n.reg-content .content-item:nth-child(4) {\r\n\theight: 706rpx;\r\n}\r\n.btn {\r\n\tposition: relative;\r\n\tcolor: white;\r\n\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\tbox-shadow: 0rpx 1rpx 0.5rpx 0rpx white inset;\r\n}\r\n\r\n.text {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translateX(-50%) translateY(-50%);\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\ttext-align: center;\r\n\t.street-title {\r\n\t}\r\n}\r\n\r\n.local {\r\n\tposition: absolute;\r\n\twidth: 44rpx;\r\n\theight: 44rpx;\r\n}\r\n.bg-img {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 1480rpx;\r\n\tz-index: -5;\r\n\timg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n}\r\n.rooms {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\r\n\t.rooms-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tposition: relative;\r\n\t\talign-content: flex-start;\r\n\t\twidth: 664rpx;\r\n\t\theight: 1080rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: rgba(255, 255, 255, 0.75);\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin: 166rpx auto 0;\r\n\t\tpadding: 72rpx 35rpx 110rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t// /deep/.uicon-reload {\r\n\t\t// \tposition: absolute;\r\n\t\t// \ttop: -55rpx !important;\r\n\t\t// \tleft: 552rpx;\r\n\t\t// }\r\n\t\t/deep/.uicon-close {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 25rpx !important;\r\n\t\t\tleft: 25rpx;\r\n\t\t}\r\n\t\t.rooms-name {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 20rpx;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\twidth: 90px;\r\n\t\t\theight: 25px;\r\n\t\t\tfont-size: 18px;\r\n\t\t\tfont-family: PingFangSC-Semibold, PingFang SC;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #000000;\r\n\t\t\tline-height: 25px;\r\n\t\t}\r\n\t\t.rooms-street-name {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 42px;\r\n\t\t\tfont-size: 30px;\r\n\t\t\tfont-family: PingFangSC-Semibold, PingFang SC;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #f04f2f;\r\n\t\t\tline-height: 42px;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin: 6rpx 0;\r\n\t\t}\r\n\r\n\t\t.content-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\t// align-items: start;\r\n\t\t\talign-content: flex-start;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 800rpx;\r\n\t\t\t.rooms-item {\r\n\t\t\t\twidth: 136rpx;\r\n\t\t\t\theight: 140rpx;\r\n\t\t\t\tmargin: 10rpx 7rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 140rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.rooms-prev,\r\n\t\t.rooms-next {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 26rpx;\r\n\t\t\twidth: 72rpx;\r\n\t\t\theight: 72rpx;\r\n\t\t\tbackground-size: 72rpx 72rpx;\r\n\t\t}\r\n\t\t.rooms-comfirm {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 26rpx;\r\n\t\t\twidth: 122rpx;\r\n\t\t\theight: 72rpx;\r\n\t\t\tline-height: 72rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tleft: 41%;\r\n\t\t\tborder-radius: 19px 19px 19px 19px;\r\n\t\t\tborder: 4rpx solid #fcd621;\r\n\t\t\tbackground-color: rgba(255, 255, 255, 0.7);\r\n\t\t}\r\n\t\t.rooms-prev {\r\n\t\t\tbackground: url(../../static/left.png) no-repeat;\r\n\t\t\tleft: 27%;\r\n\t\t}\r\n\t\t.rooms-next {\r\n\t\t\tbackground: url(../../static/right.png) no-repeat;\r\n\t\t\tright: 27%;\r\n\t\t}\r\n\t}\r\n}\r\n.room-yes {\r\n\tbackground: url(../../static/room-yes.png) no-repeat;\r\n\tbackground-size: 136rpx 140rpx;\r\n}\r\n.room-no {\r\n\tbackground: url(../../static/room-no.png) no-repeat;\r\n\tbackground-size: 136rpx 140rpx;\r\n}\r\n.people {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\r\n\t.people-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tposition: relative;\r\n\t\talign-content: flex-start;\r\n\t\twidth: 620rpx;\r\n\t\theight: 1200rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 30rpx;\r\n\t\tmargin: 156rpx auto 0;\r\n\t\tpadding: 30rpx 50rpx 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\t.title {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 90rpx;\r\n\t\t}\r\n\t\t.title-left {\r\n\t\t\tdisplay: flex;\r\n\t\t\t.wenzi {\r\n\t\t\t\tfont-size: 44rpx;\r\n\t\t\t\tline-height: 1.8;\r\n\t\t\t\tpadding-bottom: 8rpx;\r\n\t\t\t\tborder-bottom: 4rpx solid #727272;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.icon-box {\r\n\t\t\twidth: 90rpx;\r\n\t\t\theight: 100%;\r\n\t\t\tpadding-top: 20rpx;\r\n\t\t\tpadding-left: 10rpx;\r\n\t\t\t/deep/.uicon-reload {\r\n\t\t\t\ttop: 0 !important;\r\n\t\t\t\tleft: 0 !important;\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\t\t\t/deep/.uicon-close {\r\n\t\t\t\tmargin-left: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.people-item {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\theight: 130rpx;\r\n\t\talign-items: center;\r\n\t\tpadding: 10rpx 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-bottom: 2rpx solid #a6a6a6;\r\n\t\timage {\r\n\t\t\twidth: 90rpx;\r\n\t\t\theight: 90rpx;\r\n\t\t\tmargin: 0 10rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\t\t.des {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\t.des-room {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t}\r\n\t\t\t.des-say {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\toverflow: hidden !important;\r\n\t\t\t\ttext-overflow: ellipsis !important; /* 超出部分省略号 */\r\n\t\t\t\tword-break: break-all !important; /* break-all(允许在单词内换行。) */\r\n\t\t\t\tdisplay: -webkit-box !important; /* 对象作为伸缩盒子模型显示 */\r\n\t\t\t\t-webkit-box-orient: vertical !important; /* 设置或检索伸缩盒对象的子元素的排列方式 */\r\n\t\t\t\t-webkit-line-clamp: 1 !important; /* 显示的行数 */\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./citySelect.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./citySelect.vue?vue&type=style&index=0&lang=less&\"","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\nvar ws = require('@/utils/webSocket.js');\r\n// import { mapGetters, mapMutations, mapState } from 'vuex';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tglobalData: {\r\n\t\t\t\tws: {} // ws 实例\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\t//---------生命周期\r\n\tonLaunch: function() {},\r\n\tonLoad: function() {},\r\n\tonShow: function() {\r\n\t\t// 小程序自动更新\r\n\t\tif (wx.canIUse('getUpdateManager')) {\r\n\t\t\tconst updateManager = wx.getUpdateManager();\r\n\t\t\tupdateManager.onCheckForUpdate(function(res) {\r\n\t\t\t\t// 请求完新版本信息的回调\r\n\t\t\t\tif (res.hasUpdate) {\r\n\t\t\t\t\tupdateManager.onUpdateReady(function() {\r\n\t\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\t\ttitle: '更新提示',\r\n\t\t\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t// 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n\t\t\t\t\t\t\t\t\tupdateManager.applyUpdate();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tupdateManager.onUpdateFailed(function() {\r\n\t\t\t\t\t\t// 新的版本下载失败\r\n\t\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\t\ttitle: '已经有新版本了哟~',\r\n\t\t\t\t\t\t\tcontent: '新版本已经上线啦~，请您删除当前小程序，重新搜索打开哟~'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\twx.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '当前微信版本过低，可能无法使用某些功能，请升级到最新微信版本后重试。'\r\n\t\t\t});\r\n\t\t}\r\n\t\t//\r\n\t\tthis.lookAllNetwork();\r\n\t},\r\n\tonHide: function() {},\r\n\tonUnload: function() {},\r\n\tmethods: {\r\n\t\t//监听网络\r\n\t\tlookAllNetwork() {\r\n\t\t\tuni.onNetworkStatusChange(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (!res.isConnected) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络断开！',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log('有网');\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '网络重启中！'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.updateWs();\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdateWs() {\r\n\t\t\tif (this.globalData.ws) {\r\n\t\t\t\t//ws更新\r\n\t\t\t\tws.init(1);\r\n\t\t\t} else {\r\n\t\t\t\t// ws初始化\r\n\t\t\t\tws.init();\r\n\t\t\t}\r\n\t\t\t//监听断开时间，网咯断开，ws 断开都会执行这个回调\r\n\t\t\tws.on('onOpen', () => {\r\n\t\t\t\tthis.globalData.ws = ws.ws;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/uni_modules/uview-ui/index.scss';\r\n/*  #ifdef  H5  */\r\nbody {\r\n\tmax-width: 560px; //最大宽度自己可以调整\r\n\tmargin: auto !important;\r\n}\r\n/*  #endif  */\r\n/*每个页面公共css */\r\npage {\r\n\twidth: 100vm;\r\n\tmin-height: 100%;\r\n\tdisplay: flex;\r\n\tfont-size: 28rpx;\r\n\tbackground-color: #fff;\r\n\tbox-sizing: border-box;\r\n}\r\n.container {\r\n\twidth: 750rpx;\r\n\tpadding: 20rpx;\r\n\tpadding-bottom: 0 !important;\r\n}\r\n.pages {\r\n\twidth: 750rpx;\r\n}\r\n.box {\r\n\twidth: 100%;\r\n}\r\n</style>\n"],"sourceRoot":""}