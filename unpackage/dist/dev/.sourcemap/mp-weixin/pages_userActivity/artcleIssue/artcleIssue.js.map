{"version":3,"sources":["uni-app:///main.js","webpack:///F:/uniApp/xsqua/App.vue?71d8","webpack:///F:/uniApp/xsqua/pages_userActivity/artcleIssue/artcleIssue.vue?30de","webpack:///F:/uniApp/xsqua/pages_userActivity/artcleIssue/artcleIssue.vue?c39c","webpack:///F:/uniApp/xsqua/pages_userActivity/artcleIssue/artcleIssue.vue?3a31","webpack:///F:/uniApp/xsqua/pages_userActivity/artcleIssue/artcleIssue.vue?2831","uni-app:///pages_userActivity/artcleIssue/artcleIssue.vue","webpack:///F:/uniApp/xsqua/pages_userActivity/artcleIssue/artcleIssue.vue?a2fd","webpack:///F:/uniApp/xsqua/App.vue?99be","webpack:///F:/uniApp/xsqua/App.vue?88dd","uni-app:///App.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","use","uView","prototype","$store","store","config","productionTip","App","mpType","app","$mount","createPage","Page","renderjs","component","options","__file","components","uSticky","uIcon","uButton","uRadioGroup","uRadio","uUpload","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","m0","_self","_c","value","vtype","m1","m2","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","ws"],"mappings":"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","file":"pages_userActivity/artcleIssue/artcleIssue.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages_userActivity/artcleIssue/artcleIssue.vue'\ncreatePage(Page)","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","import { render, staticRenderFns, recyclableRender, components } from \"./artcleIssue.vue?vue&type=template&id=bf1412f6&\"\nvar renderjs\nimport script from \"./artcleIssue.vue?vue&type=script&lang=js&\"\nexport * from \"./artcleIssue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./artcleIssue.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages_userActivity/artcleIssue/artcleIssue.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./artcleIssue.vue?vue&type=template&id=bf1412f6&\"","var components\ntry {\n  components = {\n    uSticky: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-sticky/u-sticky\" */ \"@/uni_modules/uview-ui/components/u-sticky/u-sticky.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uRadioGroup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio-group/u-radio-group\" */ \"@/uni_modules/uview-ui/components/u-radio-group/u-radio-group.vue\"\n      )\n    },\n    uRadio: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio/u-radio\" */ \"@/uni_modules/uview-ui/components/u-radio/u-radio.vue\"\n      )\n    },\n    \"u-Textarea\": function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-upload/u-upload\" */ \"@/uni_modules/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.value === 2 && _vm.vtype === 1\n      ? require(\"../../static/video-img.jpg\")\n      : null\n  var m1 =\n    _vm.value === 2 && _vm.vtype === 2\n      ? require(\"../ua_static/up-video.png\")\n      : null\n  var m2 =\n    _vm.value === 2 && _vm.vtype === 3\n      ? require(\"../ua_static/up-video-ok.png\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./artcleIssue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./artcleIssue.vue?vue&type=script&lang=js&\"","<template>\n\t<div class=\"pages\">\n\t\t<!-- 粘性定位 -->\n\t\t<u-sticky>\n\t\t\t<div class=\"issue-top\">\n\t\t\t\t<u-icon name=\"close\" color=\"#333\" size=\"24\" @click=\"backTo\"></u-icon>\n\t\t\t\t<div class=\"send\" @click=\"sendArticle\"><u-button type=\"warning\" :text=\"secret ? '存档' : '发布'\"></u-button></div>\n\t\t\t</div>\n\t\t</u-sticky>\n\t\t<!-- 选择上传 -->\n\t\t<u-radio-group v-if=\"!secret\" v-model=\"meeting\" activeColor=\"#f9ae3d\">\n\t\t\t<u-radio :name=\"2\" shape=\"square\" :label=\"'随手文字'\"></u-radio>\n\t\t\t<u-radio :name=\"3\" shape=\"square\" :label=\"'好玩的手艺'\"></u-radio>\n\t\t</u-radio-group>\n\t\t<!-- 选择上传 -->\n\t\t<u-radio-group v-model=\"value\" activeColor=\"#f9ae3d\">\n\t\t\t<u-radio :name=\"1\" shape=\"circle\" :label=\"secret ? '图文' : '发布图文'\"></u-radio>\n\t\t\t<u-radio :name=\"2\" shape=\"circle\" :label=\"secret ? '视频' : '发布视频'\"></u-radio>\n\t\t</u-radio-group>\n\n\t\t<!-- 上传组件 -->\n\t\t<div class=\"uploads\">\n\t\t\t<!-- 文本 -->\n\t\t\t<u--textarea\n\t\t\t\tv-if=\"value === 1\"\n\t\t\t\tv-model=\"content\"\n\t\t\t\t:placeholder=\"\n\t\t\t\t\tsecret ? '字数无限制' : meeting === 2 ? '有感而发，随便写两句，吐槽、赞美都行！' : '把你的手艺轻松展示，将兴趣变现，以爱好聚友！'\n\t\t\t\t\"\n\t\t\t\t:confirmType=\"null\"\n\t\t\t\tstyle=\"white-space: pre-wrap;\"\n\t\t\t\tautoHeight\n\t\t\t\tborder=\"none\"\n\t\t\t\t:show-confirm-bar=\"false\"\n\t\t\t\tmaxlength=\"-1\"\n\t\t\t></u--textarea>\n\t\t\t<!-- <div\n\t\t\t\tstyle=\" display: flex;\n  justify-content: flex-end;\"\n\t\t\t>\n\t\t\t\t<div style=\"background-color: #f9ae3d;width: 40rpx;padding: 6rpx;border-radius: 6rpx;\">\n\t\t\t\t\t<u-icon name=\"arrow-leftward\" size=\"20\" color=\"#fff\"></u-icon>\n\t\t\t\t</div>\n\t\t\t</div> -->\n\t\t\t<!-- 上传图片 -->\n\t\t\t<u-upload\n\t\t\t\tv-if=\"value === 1\"\n\t\t\t\t:fileList=\"fileList1\"\n\t\t\t\t@afterRead=\"afterRead\"\n\t\t\t\t@delete=\"deletePic\"\n\t\t\t\tname=\"1\"\n\t\t\t\tmultiple\n\t\t\t\t:maxCount=\"9\"\n\t\t\t\t:previewFullImage=\"false\"\n\t\t\t\twidth=\"160rpx\"\n\t\t\t\theight=\"160rpx\"\n\t\t\t></u-upload>\n\n\t\t\t<!-- 文本 -->\n\t\t\t<u--textarea\n\t\t\t\tv-if=\"value === 2\"\n\t\t\t\tv-model=\"content2\"\n\t\t\t\tplaceholder=\"建议上传视频时长60s\"\n\t\t\t\tautoHeight\n\t\t\t\tborder=\"none\"\n\t\t\t\t:show-confirm-bar=\"false\"\n\t\t\t\tmaxlength=\"-1\"\n\t\t\t></u--textarea>\n\t\t\t<!-- 上传视频 -->\n\t\t\t<div class=\"v-box\" v-if=\"value === 2\">\n\t\t\t\t<img v-if=\"vtype === 1\" src=\"../../static/video-img.jpg\" mode=\"\" @click=\"selectVideo\" />\n\t\t\t\t<img v-if=\"vtype === 2\" src=\"../ua_static/up-video.png\" />\n\t\t\t\t<img v-if=\"vtype === 3\" :src=\"videoImg\" />\n\t\t\t\t<img v-if=\"vtype === 3\" src=\"../ua_static/up-video-ok.png\" />\n\t\t\t\t<div v-if=\"vtype === 3\" @click=\"removeVideo\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { ip } from '@/api/api.js';\nimport { addPost, checkContent, addXFilePost } from '@/api/artcleIssue.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//\n\t\t\tmeeting: 2,\n\t\t\t//文本\n\t\t\tcontent: '',\n\t\t\tcontent2: '',\n\t\t\t//图片\n\t\t\tfileList1: [],\n\t\t\t//视频\n\t\t\tfileList2: [],\n\t\t\t//视频封面\n\t\t\tvideoImg: '',\n\t\t\t//显示视频上传状态\n\t\t\tvtype: 1,\n\t\t\t//单选\n\t\t\tvalue: 1,\n\t\t\t//是否私人\n\t\t\tsecret: null,\n\t\t\tmediaImgList: [],\n\t\t\tmediaVideoList: [],\n\t\t\tupMediaOrImg: false,\n\t\t\ttimer: null\n\t\t};\n\t},\n\tonLoad(option) {\n\t\tthis.secret = option.secret ? option.secret : null;\n\t\tif (!this.secret) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请遵守法律法规，文明发言',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\t// 删除图片\n\t\tdeletePic(event) {\n\t\t\tthis[`fileList${event.name}`].splice(event.index, 1);\n\t\t},\n\t\t// 新增图片\n\t\tasync afterRead(event) {\n\t\t\tlet lists = [].concat(event.file);\n\t\t\tlet fileListLen = this[`fileList${event.name}`].length;\n\t\t\tlists.map(item => {\n\t\t\t\tthis[`fileList${event.name}`].push({\n\t\t\t\t\t...item,\n\t\t\t\t\tstatus: 'uploading',\n\t\t\t\t\tmessage: '上传中'\n\t\t\t\t});\n\t\t\t});\n\t\t\tfor (let i = 0; i < lists.length; i++) {\n\t\t\t\tconst result = await this.uploadFilePromise(lists[i].url);\n\t\t\t\tlet item = this[`fileList${event.name}`][fileListLen];\n\t\t\t\tthis[`fileList${event.name}`].splice(\n\t\t\t\t\tfileListLen,\n\t\t\t\t\t1,\n\t\t\t\t\tObject.assign(item, {\n\t\t\t\t\t\tstatus: 'success',\n\t\t\t\t\t\tmessage: '',\n\t\t\t\t\t\turl: result\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tfileListLen++;\n\t\t\t}\n\t\t\tthis.upMediaOrImg = false;\n\t\t},\n\t\t//上传图片\n\t\tuploadFilePromise(url) {\n\t\t\tthis.upMediaOrImg = true;\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet a = uni.uploadFile({\n\t\t\t\t\turl: ip + '/app/common/upload',\n\t\t\t\t\tfilePath: url,\n\t\t\t\t\tname: 'file',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tresolve(JSON.parse(res.data));\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t},\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tthis.upMediaOrImg = false;\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '图片上传失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t//新增上传视频\n\t\tselectVideo() {\n\t\t\tuni.chooseMedia({\n\t\t\t\tmaxDuration: 60,\n\t\t\t\tcount: 1,\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tcompressed: true,\n\t\t\t\tmediaType: ['video'],\n\t\t\t\tsuccess: r => {\n\t\t\t\t\tthis.vtype = 2;\n\t\t\t\t\tlet linShi2 = r.tempFiles[0].tempFilePath;\n\t\t\t\t\tthis.upMediaOrImg = true;\n\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\turl: ip + '/app/common/upload',\n\t\t\t\t\t\tfilePath: linShi2,\n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('token')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: uploadFileRes => {\n\t\t\t\t\t\t\tlet paths = JSON.parse(uploadFileRes.data);\n\t\t\t\t\t\t\tthis.vtype = 3;\n\t\t\t\t\t\t\tthis.videoImg = r.tempFiles[0].thumbTempFilePath;\n\t\t\t\t\t\t\tthis.mediaVideoList.push(paths.result[0].url);\n\t\t\t\t\t\t\tthis.upMediaOrImg = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\tthis.upMediaOrImg = false;\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '视频上传失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//删除视频\n\t\tremoveVideo() {\n\t\t\tthis.vtype = 1;\n\t\t\tthis.mediaVideoList = [];\n\t\t\tthis.videoImg = '';\n\t\t},\n\t\t//点击发布 调用接口进行安全验证\n\t\tasync sendArticle() {\n\t\t\tif (this.value === 1) {\n\t\t\t\tif (this.fileList1.length === 0 && !this.content) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发布不可为空~',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.upMediaOrImg) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先等待图片上传完成',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.value === 2) {\n\t\t\t\tif (this.mediaVideoList === 0 && !this.content2) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发布不可为空~',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.upMediaOrImg) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先等待视频上传完成',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '内容发布中'\n\t\t\t});\n\t\t\tif (this.value === 1) {\n\t\t\t\tlet res = await checkContent({ content: !this.content ? '分享图片' : this.content });\n\t\t\t\tif (res.code !== 0 || res.result.errcode !== 0) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发布的内容包含违规信息，请修改',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.sendReallyArticle();\n\t\t\t} else if (this.value === 2) {\n\t\t\t\tlet res = await checkContent({ content: !this.content2 ? '分享视频' : this.content2 });\n\t\t\t\tif (res.code !== 0 || res.result.errcode !== 0) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发布的内容包含违规信息，请修改',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.sendReallyArticle();\n\t\t\t}\n\t\t},\n\t\tasync sendReallyArticle() {\n\t\t\tif (this.value === 1) {\n\t\t\t\tthis.mediaImgList = this.fileList1.map((item, i, arr) => {\n\t\t\t\t\treturn item.url.result[0].url;\n\t\t\t\t});\n\t\t\t\tlet res;\n\t\t\t\tif (this.secret) {\n\t\t\t\t\tres = await addXFilePost({ content: this.content, meeting: this.meeting, media: this.mediaImgList });\n\t\t\t\t} else {\n\t\t\t\t\tres = await addPost({ content: this.content, meeting: this.meeting, media: this.mediaImgList });\n\t\t\t\t}\n\n\t\t\t\tuni.hideLoading();\n\t\t\t\tif (res.code !== 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发布失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet pages = getCurrentPages();\n\t\t\t\tlet beforePage = pages[pages.length - 2];\n\t\t\t\tbeforePage.$vm.refresh = true;\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tsuccess: function() {}\n\t\t\t\t});\n\t\t\t} else if (this.value === 2) {\n\t\t\t\tlet res;\n\t\t\t\tif (this.secret) {\n\t\t\t\t\tres = await addXFilePost({\n\t\t\t\t\t\tcontent: this.content2 ? this.content2 : '',\n\t\t\t\t\t\tmeeting: this.meeting,\n\t\t\t\t\t\tmedia: this.mediaVideoList\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres = await addPost({\n\t\t\t\t\t\tcontent: this.content2 ? this.content2 : '',\n\t\t\t\t\t\tmeeting: this.meeting,\n\t\t\t\t\t\tmedia: this.mediaVideoList\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tuni.hideLoading();\n\t\t\t\tif (res.code !== 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '发布失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet pages = getCurrentPages();\n\t\t\t\tlet beforePage = pages[pages.length - 2];\n\t\t\t\tbeforePage.$vm.refresh = true;\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tsuccess: function() {}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tbackTo() {\n\t\t\tuni.navigateBack({});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"less\">\n.issue-top {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 20rpx;\n\tbackground-color: white;\n\t.send {\n\t\twidth: 120rpx;\n\t\theight: 66rpx;\n\t\t/deep/.u-button {\n\t\t\theight: 66rpx !important;\n\t\t}\n\t}\n}\n/deep/.u-textarea {\n\tmargin-bottom: 20rpx;\n}\n.uploads {\n\tpadding: 0 20rpx;\n}\n/deep/.u-upload {\n\tflex: 0 !important;\n}\n/deep/.u-upload__wrap {\n\tflex: 0 !important;\n\timage {\n\t\twidth: 160rpx;\n\t\theight: 160rpx;\n\t}\n}\n/deep/.u-radio-group {\n\tmargin: 20rpx;\n\t.u-radio {\n\t\tmargin-right: 50rpx;\n\t}\n}\n/deep/.u-upload__button {\n\tflex-direction: row !important;\n}\n.v-box {\n\tposition: relative;\n\twidth: 160rpx;\n\theight: 160rpx;\n\timage {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 160rpx;\n\t\theight: 160rpx;\n\t}\n\tdiv {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\twidth: 34rpx;\n\t\theight: 34rpx;\n\t}\n}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./artcleIssue.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./artcleIssue.vue?vue&type=style&index=0&lang=less&\"","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\nvar ws = require('@/utils/webSocket.js');\r\n// import { mapGetters, mapMutations, mapState } from 'vuex';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tglobalData: {\r\n\t\t\t\tws: {} // ws 实例\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\t//---------生命周期\r\n\tonLaunch: function() {},\r\n\tonLoad: function() {},\r\n\tonShow: function() {\r\n\t\t// 小程序自动更新\r\n\t\tif (wx.canIUse('getUpdateManager')) {\r\n\t\t\tconst updateManager = wx.getUpdateManager();\r\n\t\t\tupdateManager.onCheckForUpdate(function(res) {\r\n\t\t\t\t// 请求完新版本信息的回调\r\n\t\t\t\tif (res.hasUpdate) {\r\n\t\t\t\t\tupdateManager.onUpdateReady(function() {\r\n\t\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\t\ttitle: '更新提示',\r\n\t\t\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t// 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n\t\t\t\t\t\t\t\t\tupdateManager.applyUpdate();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tupdateManager.onUpdateFailed(function() {\r\n\t\t\t\t\t\t// 新的版本下载失败\r\n\t\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\t\ttitle: '已经有新版本了哟~',\r\n\t\t\t\t\t\t\tcontent: '新版本已经上线啦~，请您删除当前小程序，重新搜索打开哟~'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\twx.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '当前微信版本过低，可能无法使用某些功能，请升级到最新微信版本后重试。'\r\n\t\t\t});\r\n\t\t}\r\n\t\t//\r\n\t\tthis.lookAllNetwork();\r\n\t},\r\n\tonHide: function() {},\r\n\tonUnload: function() {},\r\n\tmethods: {\r\n\t\t//监听网络\r\n\t\tlookAllNetwork() {\r\n\t\t\tuni.onNetworkStatusChange(res => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (!res.isConnected) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络断开！',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log('有网');\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '网络重启中！'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.updateWs();\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdateWs() {\r\n\t\t\tif (this.globalData.ws) {\r\n\t\t\t\t//ws更新\r\n\r\n\t\t\t\tws.init(1);\r\n\t\t\t} else {\r\n\t\t\t\t// ws初始化\r\n\r\n\t\t\t\tws.init();\r\n\t\t\t}\r\n\t\t\t//监听断开时间，网咯断开，ws 断开都会执行这个回调\r\n\t\t\tws.on('onOpen', () => {\r\n\t\t\t\tthis.globalData.ws = ws.ws;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/uni_modules/uview-ui/index.scss';\r\n/*  #ifdef  H5  */\r\nbody {\r\n\tmax-width: 560px; //最大宽度自己可以调整\r\n\tmargin: auto !important;\r\n}\r\n/*  #endif  */\r\n/*每个页面公共css */\r\npage {\r\n\twidth: 100vm;\r\n\tmin-height: 100%;\r\n\tdisplay: flex;\r\n\tfont-size: 28rpx;\r\n\tbackground-color: #fff;\r\n\tbox-sizing: border-box;\r\n}\r\n.container {\r\n\twidth: 750rpx;\r\n\tpadding: 20rpx;\r\n\tpadding-bottom: 0 !important;\r\n}\r\n.pages {\r\n\twidth: 750rpx;\r\n}\r\n.box {\r\n\twidth: 100%;\r\n}\r\n</style>\n"],"sourceRoot":""}